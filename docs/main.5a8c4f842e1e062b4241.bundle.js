(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1281:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(196);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addParameters)({options:{showRoots:!0}})},1304:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(196);module._StorybookPreserveDecorators=!0,Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(1306)],module)}.call(this,__webpack_require__(1305)(module))},1306:function(module,exports,__webpack_require__){var map={"./0-Welcome.stories.mdx":1307,"./1-QRCode.stories.tsx":1315,"./2-useDebounceText.stories.mdx":1318,"./2-useList.stories.mdx":1325,"./2-useQuery.stories.mdx":1329};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1306},1307:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(35);__webpack_require__(442);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.Meta,{title:"Welcome/快速入门",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h1",{id:"lyfutils-工具库"},"lyfutils 工具库"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",null,"主要是在项目开发中，总结一些组件、自定义 hooks、工具函数等。"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h2",{id:"components"},"Components"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},"二维码：QRCode"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},"轻提示：Toast")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h2",{id:"hooks"},"Hooks"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},"useList: 查询列表"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},"useDebounceText: 获取 debounce 文本"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},"useQuery: 获取查询参数")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h2",{id:"安装"},"安装"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("code",_extends({parentName:"pre"},{className:"language-shell"}),"yarn add @liaoyf/lyfutils\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h2",{id:"使用"},"使用"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("code",_extends({parentName:"pre"},{className:"language-jsx"}),"import React from 'react';\nimport { QRCode } from '@liaoyf/lyfutils';\n\nconst Demo = () => {\n    return (\n        <QRCode value=\"http://www.baidu.com\" alt=\"百度\" />\n    )\n};\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h2",{id:"更新日志"},"更新日志"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("a",_extends({parentName:"p"},{href:"./CHANGELOG.md"}),"CHANGELOG")))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.story={parameters:{docsOnly:!0}};const componentMeta={title:"Welcome/快速入门",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(MDXContent,null))},__webpack_exports__.default=componentMeta},1308:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o.default=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!==k&&Object.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importStar(__webpack_require__(0)),qrcode_react_1=__importDefault(__webpack_require__(1309)),QRCode=function(_a){var useImg=_a.useImg,value=_a.value,style=_a.style,alt=_a.alt,qrCode=react_1.useRef(null),img=react_1.useRef(null);return react_1.useLayoutEffect((function(){if(qrCode.current&&img.current){var qrcodeImg=img.current,canvas=qrCode.current.querySelector("canvas");if(!canvas)return;qrcodeImg.src=canvas.toDataURL()}}),[qrCode,img]),react_1.default.createElement("div",{ref:qrCode},react_1.default.createElement(qrcode_react_1.default,{value:value,style:__assign({display:useImg?"none":"block"},style)}),useImg&&react_1.default.createElement("img",{alt:alt,style:style,ref:img}))};QRCode.defaultProps={useImg:!1,alt:"二维码",style:{}},exports.default=QRCode;try{QRCode.displayName="QRCode",QRCode.__docgenInfo={description:"",displayName:"QRCode",props:{useImg:{defaultValue:{value:"false"},description:"是否生成图片。当需要长按保存图片时可以设置为 `true`",name:"useImg",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"需要生成二维码的 `URL`",name:"value",required:!0,type:{name:"string"}},alt:{defaultValue:null,description:"当设置成 `useImg` 时，可以指定 `<img>` 标签的 alt 属性",name:"alt",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"针对图片设置 css 样式",name:"style",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/QRCode/QRCode.tsx#QRCode"]={docgenInfo:QRCode.__docgenInfo,name:"QRCode",path:"src/components/QRCode/QRCode.tsx#QRCode"})}catch(__react_docgen_typescript_loader_error){}},1315:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.useImg=exports.Basic=void 0;__webpack_require__(447).withSource;var addSourceDecorator=__webpack_require__(447).addSource,__STORY__='import React from \'react\';\r\nimport QRCode from \'../src/components/QRCode\';\r\n\r\nexport default {\r\n    title: \'components/QRCode\',\r\n    component: QRCode\r\n};\r\n\r\nexport const Basic = () => <QRCode value="http://www.baidu.com" alt="百度" />;\r\n\r\nexport const useImg = () => <QRCode value="http://www.baidu.com" useImg alt="百度" />;\r\n',__ADDS_MAP__={"components-qrcode--basic":{startLoc:{col:21,line:9},endLoc:{col:75,line:9},startBody:{col:21,line:9},endBody:{col:75,line:9}},"components-qrcode--use-img":{startLoc:{col:22,line:11},endLoc:{col:83,line:11},startBody:{col:22,line:11},endBody:{col:83,line:11}}},__MODULE_DEPENDENCIES__=[],__LOCAL_DEPENDENCIES__={},__IDS_TO_FRAMEWORKS__={},react_1=__importDefault(__webpack_require__(0)),QRCode_1=__importDefault(__webpack_require__(442));exports.default={parameters:{storySource:{source:'import React from \'react\';\r\nimport QRCode from \'../src/components/QRCode\';\r\n\r\nexport default {\r\n    title: \'components/QRCode\',\r\n    component: QRCode\r\n};\r\n\r\nexport const Basic = () => <QRCode value="http://www.baidu.com" alt="百度" />;\r\n\r\nexport const useImg = () => <QRCode value="http://www.baidu.com" useImg alt="百度" />;\r\n',locationsMap:{"components-qrcode--basic":{startLoc:{col:21,line:9},endLoc:{col:75,line:9},startBody:{col:21,line:9},endBody:{col:75,line:9}},"components-qrcode--use-img":{startLoc:{col:22,line:11},endLoc:{col:83,line:11},startBody:{col:22,line:11},endBody:{col:83,line:11}}}}},title:"components/QRCode",component:QRCode_1.default},exports.Basic=addSourceDecorator((function(){return react_1.default.createElement(QRCode_1.default,{value:"http://www.baidu.com",alt:"百度"})}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/1-QRCode.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:"E:\\myProject\\utils\\stories",__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__}),exports.useImg=addSourceDecorator((function(){return react_1.default.createElement(QRCode_1.default,{value:"http://www.baidu.com",useImg:!0,alt:"百度"})}),{__STORY__:__STORY__,__ADDS_MAP__:__ADDS_MAP__,__MAIN_FILE_LOCATION__:"/1-QRCode.stories.tsx",__MODULE_DEPENDENCIES__:__MODULE_DEPENDENCIES__,__LOCAL_DEPENDENCIES__:__LOCAL_DEPENDENCIES__,__SOURCE_PREFIX__:"E:\\myProject\\utils\\stories",__IDS_TO_FRAMEWORKS__:__IDS_TO_FRAMEWORKS__})},1318:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"basic",(function(){return basic}));__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(35),_src_hooks_useDebounceText__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(142),_src_hooks_useDebounceText__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_hooks_useDebounceText__WEBPACK_IMPORTED_MODULE_3__);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.Meta,{title:"Hooks/useDebounceText",component:_src_hooks_useDebounceText__WEBPACK_IMPORTED_MODULE_3___default.a,mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h1",{id:"usedebouncetext"},"useDebounceText"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.Preview,{mdxType:"Preview"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.Story,{name:"Basic",mdxType:"Story"},()=>{const{targetValue:targetValue,originValue:originValue,onOriginChange:onOriginChange,loading:loading}=_src_hooks_useDebounceText__WEBPACK_IMPORTED_MODULE_3___default()("");return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("div",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("input",{type:"text",placeholder:"请输入",value:originValue,onChange:e=>onOriginChange(e.target.value)}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("div",null,"输入的值：",loading?"输入中...":targetValue))})),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h2",{id:"api"},"API"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("code",_extends({parentName:"pre"},{className:"language-jsx"}),"useDebounceText(initValue: string|undefined, ms: number)\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("strong",{parentName:"p"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("em",{parentName:"strong"},"Params"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("strong",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("em",{parentName:"strong"},"initValue")),"：初始化值"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("strong",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("em",{parentName:"strong"},"ms")),"：防抖时间段，单位毫秒")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("strong",{parentName:"p"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("em",{parentName:"strong"},"Returns"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("strong",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("em",{parentName:"strong"},"targetValue")),": 最终的值"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("strong",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("em",{parentName:"strong"},"originValue")),": 原始输入值"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("strong",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("em",{parentName:"strong"},"onOriginChange")),": 原始值改变回调"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("strong",{parentName:"li"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("em",{parentName:"strong"},"loading")),": 加载中")))}MDXContent.isMDXComponent=!0;const basic=()=>{const{targetValue:targetValue,originValue:originValue,onOriginChange:onOriginChange,loading:loading}=_src_hooks_useDebounceText__WEBPACK_IMPORTED_MODULE_3___default()("");return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("div",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("input",{type:"text",placeholder:"请输入",value:originValue,onChange:e=>onOriginChange(e.target.value)}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("div",null,"输入的值：",loading?"输入中...":targetValue))};basic.story={},basic.story.name="Basic",basic.story.parameters={mdxSource:"() => {\n  const {\n    targetValue,\n    originValue,\n    onOriginChange,\n    loading\n  } = useDebounceText('');\n  return <div>\n               <input type=\"text\" placeholder=\"请输入\" value={originValue} onChange={e => onOriginChange(e.target.value)} />\n               <div>\n                   输入的值：{loading ? '输入中...' : targetValue}\n               </div>\n           </div>;\n}"};const componentMeta={title:"Hooks/useDebounceText",includeStories:["basic"]},mdxStoryNameToKey={Basic:"basic"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(MDXContent,null))},__webpack_exports__.default=componentMeta},1325:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(35),_src_hooks_useList__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(477),_src_hooks_useList__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_hooks_useList__WEBPACK_IMPORTED_MODULE_3__);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.Meta,{title:"Hooks/useList",component:_src_hooks_useList__WEBPACK_IMPORTED_MODULE_3___default.a,mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h1",{id:"uselist"},"useList"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",null,"根据查询条件获取列表数据，并通过查询参数方式记住查询条件。"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h2",{id:"原理"},"原理"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",null,"获取查询参数 =》 回填表单 =》 点击查询时触发查询，并更新表单值到查询参数"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h2",{id:"示例"},"示例"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("code",_extends({parentName:"pre"},{className:"language-jsx"}),"import React from 'react';\nimport { useList } from '@liaoyf/lyfutils';\n\nconst Demo = () => {\n    const { list, page, loading } = useList({\n        data: async(reqData) => await fetch('/api/getList', {\n            data: JSON.stringify(reqData)\n        }),\n        initialReqData: {\n            orgCode: '305024'\n        },\n        formToQuery: {\n            grid: form.getFieldValue('grid'),\n            street: form.getFieldValue('street')\n        },\n        reqData: {\n            orgCode: form.getFieldValue('orgCode')\n        }\n    });\n    return (\n        <div>\n            <Table dataSource={list} page={page} />\n        </div>\n    )\n};\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h2",{id:"todo"},"TODO"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},"增加 storage 方式记住查询条件（刷新页面查询条件就会没掉）"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("li",{parentName:"ul"},"增加在线示例")))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.story={parameters:{docsOnly:!0}};const componentMeta={title:"Hooks/useList",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(MDXContent,null))},__webpack_exports__.default=componentMeta},1326:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(0),react_router_dom_1=__webpack_require__(450),qs_1=__webpack_require__(175),react_use_1=__webpack_require__(449),index_1=__webpack_require__(1328),useList=function(_a){var data=_a.data,initialReqData=_a.initialReqData,formToQuery=_a.formToQuery,reqData=_a.reqData,_b=_a.isUpdateToQuery,isUpdateToQuery=void 0!==_b&&_b,history=react_router_dom_1.useHistory(),location=react_router_dom_1.useLocation(),_c=react_1.useState([]),list=_c[0],setList=_c[1],isFirstMount=react_use_1.useFirstMountState(),_d=react_1.useState({totalNum:0,totalPage:0,linesPerPage:10,currentPage:1}),page=_d[0],setPage=_d[1],fetchList=react_1.useCallback((function(params){return __awaiter(void 0,void 0,void 0,(function(){var response;return __generator(this,(function(_a){switch(_a.label){case 0:return[4,data(params)];case 1:return response=_a.sent(),setList(response.list),setPage(response.page),isUpdateToQuery&&function(obj,history,location){var query=index_1.useQuery();history.replace({pathname:location.pathname,search:qs_1.stringify(__assign(__assign({},query),obj))})}(formToQuery,history,location),[2]}}))}))}),[]);return react_use_1.useDeepCompareEffect((function(){initialReqData&&isFirstMount&&fetchList(initialReqData)}),[fetchList]),react_use_1.useDeepCompareEffect((function(){isFirstMount&&!initialReqData&&fetchList(reqData)}),[data,reqData,fetchList]),{list:list,page:page,resetList:function(){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:return[4,fetchList(initialReqData)];case 1:return _a.sent(),[2]}}))}))},refreshList:function(){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:return[4,fetchList(reqData)];case 1:return _a.sent(),[2]}}))}))}}};exports.default=useList;try{useList.displayName="useList",useList.__docgenInfo={description:"快速查询列表\n原理：\r\n第一次渲染：获取 initialQuery 更新到 form；并触发查询\r\n触发查询：获取表单的值更新到 query",displayName:"useList",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"any"}},initialReqData:{defaultValue:null,description:"",name:"initialReqData",required:!0,type:{name:"object"}},queryToForm:{defaultValue:null,description:"",name:"queryToForm",required:!0,type:{name:"object"}},formToQuery:{defaultValue:null,description:"",name:"formToQuery",required:!0,type:{name:"object"}},reqData:{defaultValue:null,description:"",name:"reqData",required:!0,type:{name:"object"}},isUpdateToQuery:{defaultValue:{value:!1},description:"",name:"isUpdateToQuery",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/hooks/useList/useList.ts#useList"]={docgenInfo:useList.__docgenInfo,name:"useList",path:"src/hooks/useList/useList.ts#useList"})}catch(__react_docgen_typescript_loader_error){}},1328:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.useQuery=exports.useDebounceText=void 0;var useDebounceText_1=__importDefault(__webpack_require__(142));exports.useDebounceText=useDebounceText_1.default;var useQuery_1=__importDefault(__webpack_require__(284));exports.useQuery=useQuery_1.default},1329:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(35),_src_hooks_useQuery__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(284),_src_hooks_useQuery__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_hooks_useQuery__WEBPACK_IMPORTED_MODULE_3__);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.Meta,{title:"Hooks/useQuery",component:_src_hooks_useQuery__WEBPACK_IMPORTED_MODULE_3___default.a,mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h1",{id:"usequery"},"useQuery"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",null,"快速获取 react 路由查询字符串："),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("code",_extends({parentName:"pre"},{className:"language-jsx"}),"// href: http://localhost:3000/basicPs#/home?fwbh=12&dzbh=23\nimport React from 'react';\nimport { useQuery } from '@liaoyf/lyfutils';\n\nconst Demo = () => {\n    const { fwbh, dzbh } = useQuery();\n    return <div>Fwbh: {fwbh}, Dzbh: {dzbh}</div>\n};\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("h2",{id:"api"},"API"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("code",_extends({parentName:"pre"},{className:"language-jsx"}),"useQuery()\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("strong",{parentName:"p"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("em",{parentName:"strong"},"Returns"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)("p",null,"(Object): 返回所有查询字符串参数的值"))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.story={parameters:{docsOnly:!0}};const componentMeta={title:"Hooks/useQuery",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_2__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.mdx)(MDXContent,null))},__webpack_exports__.default=componentMeta},142:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__webpack_require__(0),react_use_1=__webpack_require__(449);exports.default=function(initValue,ms){void 0===ms&&(ms=500);var _a=react_1.useState(!1),loading=_a[0],setLoading=_a[1],_b=react_1.useState(initValue),originValue=_b[0],setOriginValue=_b[1],_c=react_1.useState(initValue),targetValue=_c[0],setTargetValue=_c[1];react_use_1.useDebounce((function(){setTargetValue(originValue),setLoading(!1)}),ms,[originValue]);return{originValue:originValue,targetValue:targetValue,onOriginChange:function(curVal){setLoading(!0),setOriginValue(curVal)},loading:loading}}},284:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_router_dom_1=__webpack_require__(450),qs_1=__webpack_require__(175);exports.default=function(){var location=react_router_dom_1.useLocation();return qs_1.parse(location.search,{ignoreQueryPrefix:!0})}},442:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var QRCode_1=__importDefault(__webpack_require__(1308));exports.default=QRCode_1.default},477:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var useList_1=__importDefault(__webpack_require__(1326));exports.default=useList_1.default;try{useList_1.default.displayName="useList",useList_1.default.__docgenInfo={description:"快速查询列表\n原理：\r\n第一次渲染：获取 initialQuery 更新到 form；并触发查询\r\n触发查询：获取表单的值更新到 query",displayName:"useList",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"any"}},initialReqData:{defaultValue:null,description:"",name:"initialReqData",required:!0,type:{name:"object"}},queryToForm:{defaultValue:null,description:"",name:"queryToForm",required:!0,type:{name:"object"}},formToQuery:{defaultValue:null,description:"",name:"formToQuery",required:!0,type:{name:"object"}},reqData:{defaultValue:null,description:"",name:"reqData",required:!0,type:{name:"object"}},isUpdateToQuery:{defaultValue:null,description:"",name:"isUpdateToQuery",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/hooks/useList/index.ts#useList"]={docgenInfo:useList_1.default.__docgenInfo,name:"useList",path:"src/hooks/useList/index.ts#useList"})}catch(__react_docgen_typescript_loader_error){}},478:function(module,exports,__webpack_require__){__webpack_require__(479),__webpack_require__(626),__webpack_require__(627),__webpack_require__(1280),__webpack_require__(1281),module.exports=__webpack_require__(1304)},543:function(module,exports){}},[[478,1,2]]]);
//# sourceMappingURL=main.5a8c4f842e1e062b4241.bundle.js.map